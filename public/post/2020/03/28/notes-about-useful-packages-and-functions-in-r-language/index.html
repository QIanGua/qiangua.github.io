<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Notes about useful packages and functions in R Language - 采采流水</title>
    <meta property="og:title" content="Notes about useful packages and functions in R Language - 采采流水">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="In this post, I will record some common R&amp;rsquo;s packages and functions.
[&amp;hellip;] Use GET() function to connect with website and get data from it.
[&amp;hellip;] setwd(&amp;#34;**/**/**&amp;#34;)  second &amp;hellip;">
      <meta property="og:description" content="In this post, I will record some common R&amp;rsquo;s packages and functions.
[&amp;hellip;] Use GET() function to connect with website and get data from it.
[&amp;hellip;] setwd(&amp;#34;**/**/**&amp;#34;)  second &amp;hellip;">
      
    

    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="post">
    <header class="masthead">
      <h1><a href="/">采采流水</a></h1>

<p class="tagline"> An Essay Concerning Human Understanding</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/">Home</a></li>
  
  <li><a href="/about/">About</a></li>
  
  <li><a href="/books/">Books</a></li>
  
  <li><a href="/moments/">Moments</a></li>
  
  <li><a href="/index.xml">Subscribe</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Notes about useful packages and functions in R Language</h1>

<h3>[Qiangua]
  /  2020-03-28</h3>
<hr>


      </header>



<p>In this post, I will record some common R&rsquo;s packages and functions.</p>
<h2 id="packages">Packages</h2>
<h3 id="data-dot-table">data.table</h3>
<h3 id="tidyverse">tidyverse</h3>
<h3 id="magritter">magritter</h3>
<h3 id="patchwork">patchwork</h3>
<h3 id="fs">fs</h3>
<h3 id="rvest">rvest</h3>
<h3 id="purr">purr</h3>
<h3 id="drake">drake</h3>
<ol>
<li>drake_plan(): create a workflow data frame</li>
<li>make(): build your project</li>
<li>vis_drake_graph(): show an interactive visual network representation of your workflow</li>
<li>drake_history(): show what you built, when you built in, and the function arguments you used</li>
<li>loadd(): load one or more built targets into your R session</li>
<li>readd(): read and return a built target</li>
<li>outdated(): see which targets will be built in the next make()</li>
<li>deps(): check the dependencies of a command or function</li>
<li>failed(): list the targets that failed to build in the last make()</li>
<li>diagnose(): return the full context of a build, including errors, warnings, and messages</li>
</ol>
<h3 id="janitor">janitor</h3>
<ul>
<li>comment style</li>
</ul>
<h3 id="httr">httr</h3>
<p>Use GET() function to connect with website and get data from it.</p>
<h2 id="tips">Tips</h2>
<h3 id="never-use-these-two-commands-in-the-head-of-r-script">never use these two commands in the head of R script</h3>
<ul>
<li>first (inseted use here::here())</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;**/**/**&#34;</span>)
</code></pre></div><ul>
<li>second</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">rm</span>(list <span style="color:#f92672">=</span> <span style="color:#a6e22e">ls</span>())
</code></pre></div><p>Don&rsquo;t try to change the .Rprofile and affect the data</p>
<h3 id="check-the-loaded-packages">check the loaded packages</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">(<span style="color:#a6e22e">.packages</span>())
</code></pre></div><h3 id="set-the-working-directory">set the working directory</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#a6e22e">setwd</span>()
</code></pre></div><p>I custom the shortcuting in R with <strong><strong>Cmd+Shift+H</strong></strong>.</p>
<h3 id="tidy-code-s-formatation">tidy code&rsquo;s formatation</h3>
<p>Here I just introduce the tidy method in RStudio.</p>
<ol>
<li>select the region, e.g. <strong><strong>Cmd + A</strong></strong></li>
<li>print shortcuting <strong><strong>Cmd + Shift + A</strong></strong> to format the code or run <strong><strong>style active file</strong></strong> in addin</li>
</ol>
<h3 id="get-file-s-path">get file&rsquo;s path</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">full_path <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">normalizePath</span>(file_eg)
dir_name<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">dirname</span>()
file_name<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">basename</span>()
</code></pre></div><h2 id="run-r-code">Run R Code</h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#a6e22e">library</span>(<span style="color:#e6db74">&#34;ggplot2&#34;</span>)
<span style="color:#a6e22e">ggplot</span>(mpg) <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> displ, y <span style="color:#f92672">=</span> hwy, colour <span style="color:#f92672">=</span> cty, size <span style="color:#f92672">=</span> cty))
</code></pre></div><figure>
    <img src="/ox-hugo/test2.png"/> 
</figure>

  <footer>
  
  <script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/python.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/lisp.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="https://qiangua.me">Qiangua</a> 2019 | <a href="https://www.instagram.com/mlyqdd/">Instagram</a></div>
  
  </footer>
  </article>
  
  </body>
</html>

